/*
 2017 Julian Garnier
 Released under the MIT license
 ------------
     filterrgba(rgba rgb)
*/
var $jscomp$this=this;
(function(v,p){"function"===typeof define&&define.amd?define([],p):"object"===typeof module&&module.exports?module.exports=p():v.anime=p()})(this,function(){function v(a){if(!e.col(a))try{return document.querySelectorAll(a)}catch(b){}}function p(a){return a.reduce(function(a,d){return a.concat(e.arr(d)?p(d):d)},[])}function w(a){if(e.arr(a))return a;e.str(a)&&(a=v(a)||a);return a instanceof NodeList||a instanceof HTMLCollection?[].slice.call(a):[a]}function A(a,b){return a.some(function(a){return a===b})}
function B(a){var b={},d;for(d in a)b[d]=a[d];return b}function G(a,b){var d=B(a),c;for(c in a)d[c]=b.hasOwnProperty(c)?b[c]:a[c];return d}function C(a,b){var d=B(a),c;for(c in b)d[c]=e.und(a[c])?b[c]:a[c];return d}function T(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,d,h){return b+b+d+d+h+h});var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);a=parseInt(b[1],16);var d=parseInt(b[2],16),b=parseInt(b[3],16);return"rgb("+a+","+d+","+b+")"}function U(a){function b(a,b,c){0>
c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}var d=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(a);a=parseInt(d[1])/360;var c=parseInt(d[2])/100,d=parseInt(d[3])/100;if(0==c)c=d=a=d;else{var g=.5>d?d*(1+c):d+c-d*c,k=2*d-g,c=b(k,g,a+1/3),d=b(k,g,a);a=b(k,g,a-1/3)}return"rgb("+255*c+","+255*d+","+255*a+")"}function V(a){if(e.rgba(a))return a=/rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d+)\)/g.exec(a),"rgb("+a[1]+","+a[2]+","+a[3]+")";if(e.rgb(a))return a;if(e.hex(a))return T(a);
if(e.hsl(a))return U(a)}function x(a){if(a=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg|rad|turn)?/.exec(a))return a[2]}function W(a){if(-1<a.indexOf("translate"))return"px";if(-1<a.indexOf("rotate")||-1<a.indexOf("skew"))return"deg"}function X(a){if(-1<a.indexOf("blur"))return"px";if(-1<a.indexOf("hue-rotate"))return"deg"}function H(a,b){return e.fnc(a)?a(b.target,b.id,b.total):a}function D(a,b){if(b in a.style)return getComputedStyle(a).getPropertyValue(b.replace(/([a-z])([A-Z])/g,
"$1-$2").toLowerCase())||"0"}function I(a,b){if(e.dom(a)&&A(Y,b))return"filter";if(e.dom(a)&&A(Z,b))return"transform";if(e.dom(a)&&(a.getAttribute(b)||e.svg(a)&&a[b]))return"attribute";if(e.dom(a)&&"transform"!==b&&"filter"!==b&&D(a,b))return"css";if(null!=a[b])return"object"}function aa(a,b){var d=W(b),d=-1<b.indexOf("scale")?1:0+d;a=a.style.transform;if(!a)return d;for(var c=[],g=[],k=[],h=/(\w+)\((.+?)\)/g;c=h.exec(a);)g.push(c[1]),k.push(c[2]);a=k.filter(function(a,c){return g[c]===b});return a.length?
a[0]:d}function ba(a,b){var d=X(b),d=-1<b.indexOf("contrast")?1:0+d;a=a.style.filter;if(!a)return d;for(var c=[],g=[],k=[],h=/(\w+)\((.+?)\)/g;c=h.exec(a);)g.push(c[1]),k.push(c[2]);a=k.filter(function(a,c){return g[c]===b});return a.length?a[0]:d}function J(a,b){switch(I(a,b)){case "filter":return ba(a,b);case "transform":return aa(a,b);case "css":return D(a,b);case "attribute":return a.getAttribute(b)}return a[b]||0}function K(a,b){var d=/^(\*=|\+=|-=)/.exec(a);if(!d)return a;b=parseFloat(b);a=
parseFloat(a.replace(d[0],""));switch(d[0][0]){case "+":return b+a;case "-":return b-a;case "*":return b*a}}function E(a){return e.obj(a)&&a.hasOwnProperty("totalLength")}function ca(a,b){function d(c){c=void 0===c?0:c;return a.el.getPointAtLength(1<=b+c?b+c:0)}var c=d(),g=d(-1),k=d(1);switch(a.property){case "x":return c.x;case "y":return c.y;case "angle":return 180*Math.atan2(k.y-g.y,k.x-g.x)/Math.PI}}function L(a,b){var d=/-?\d*\.?\d+/g;a=E(a)?a.totalLength:a;if(e.col(a))b=V(a);else{var c=x(a);
a=c?a.substr(0,a.length-c.length):a;b=b?a+b:a}b+="";return{original:b,numbers:b.match(d)?b.match(d).map(Number):[0],strings:b.split(d)}}function da(a,b){return b.reduce(function(b,c,g){return b+a[g-1]+c})}function M(a){return(a?p(e.arr(a)?a.map(w):w(a)):[]).filter(function(a,d,c){return c.indexOf(a)===d})}function ea(a){var b=M(a);return b.map(function(a,c){return{target:a,id:c,total:b.length}})}function fa(a,b){var d=B(b);if(e.arr(a)){var c=a.length;2!==c||e.obj(a[0])?e.fnc(b.duration)||(d.duration=
b.duration/c):a={value:a}}return w(a).map(function(a,c){c=c?0:b.delay;a=e.obj(a)&&!E(a)?a:{value:a};e.und(a.delay)&&(a.delay=c);return a}).map(function(a){return C(a,d)})}function ga(a,b){var d={},c;for(c in a){var g=H(a[c],b);e.arr(g)&&(g=g.map(function(a){return H(a,b)}),1===g.length&&(g=g[0]));d[c]=g}d.duration=parseFloat(d.duration);d.delay=parseFloat(d.delay);return d}function ha(a){return e.arr(a)?y.apply(this,a):N[a]}function ia(a,b){var d;return a.tweens.map(function(c){c=ga(c,b);var g=c.value,
k=J(b.target,a.name),h=d?d.to.original:k,h=e.arr(g)?g[0]:h,n=K(e.arr(g)?g[1]:g,h),k=x(n)||x(h)||x(k);c.isPath=E(g);c.from=L(h,k);c.to=L(n,k);c.start=d?d.end:a.offset;c.end=c.start+c.delay+c.duration;c.easing=ha(c.easing);c.elasticity=(1E3-Math.min(Math.max(c.elasticity,1),999))/1E3;e.col(c.from.original)&&(c.round=1);return d=c})}function ja(a,b){return p(a.map(function(a){return b.map(function(b){var c=I(a.target,b.name);if(c){var d=ia(b,a);b={type:c,property:b.name,animatable:a,tweens:d,duration:d[d.length-
1].end,delay:d[0].delay}}else b=void 0;return b})})).filter(function(a){return!e.und(a)})}function O(a,b,d){var c="delay"===a?Math.min:Math.max;return b.length?c.apply(Math,b.map(function(b){return b[a]})):d[a]}function ka(a){var b=G(la,a),d=G(ma,a),c=ea(a.targets),g=[],e=C(b,d),h;for(h in a)e.hasOwnProperty(h)||"targets"===h||g.push({name:h,offset:e.offset,tweens:fa(a[h],d)});a=ja(c,g);return C(b,{children:[],animatables:c,animations:a,duration:O("duration",a,d),delay:O("delay",a,d)})}function m(a){function b(){return window.Promise&&
new Promise(function(a){return Q=a})}function d(a){return f.reversed?f.duration-a:a}function c(a){for(var b=0,c={},d={},g=f.animations,e={};b<g.length;){var h=g[b],n=h.animatable,k=h.tweens;e.tween=k.filter(function(b){return a<b.end})[0]||k[k.length-1];e.isPath$1=e.tween.isPath;e.round=e.tween.round;e.eased=e.tween.easing(Math.min(Math.max(a-e.tween.start-e.tween.delay,0),e.tween.duration)/e.tween.duration,e.tween.elasticity);k=da(e.tween.to.numbers.map(function(a){return function(b,c){c=a.isPath$1?
0:a.tween.from.numbers[c];b=c+a.eased*(b-c);a.isPath$1&&(b=ca(a.tween.value,b));a.round&&(b=Math.round(b*a.round)/a.round);return b}}(e)),e.tween.to.strings);if("filter"===h.type)R[h.type](n.target,h.property,k,d,n.id);else R[h.type](n.target,h.property,k,c,n.id);h.currentValue=k;b++;e={isPath$1:e.isPath$1,tween:e.tween,eased:e.eased,round:e.round}}if(c){var l,b={};for(l in c)F||(F=D(document.body,"transform")?"transform":"-webkit-transform"),b.rArr=[],c[l].forEach(function(a){return function(b,d){-1<
b.indexOf("rotate")&&(a.rArr.push(b),c[l].splice(d,1))}}(b)),c[l]=c[l].concat(b.rArr),f.animatables[l].target.style[F]=c[l].join(" "),b={rArr:b.rArr}}if(d)for(var t in d)f.animatables[t].target.style.filter=d[t].join(" ");f.currentTime=a;f.progress=a/f.duration*100}function g(a){if(f[a])f[a](f)}function e(){f.remaining&&!0!==f.remaining&&f.remaining--}function h(a){var h=f.duration,k=f.offset,m=f.delay,P=f.currentTime,q=f.reversed,r=d(a),r=Math.min(Math.max(r,0),h);if(f.children){var p=f.children;
if(r>=f.currentTime)for(var u=0;u<p.length;u++)p[u].seek(r);else for(u=p.length;u--;)p[u].seek(r)}r>k&&r<h?(c(r),!f.began&&r>=m&&(f.began=!0,g("begin")),g("run")):(r<=k&&0!==P&&(c(0),q&&e()),r>=h&&P!==h&&(c(h),q||e()));a>=h&&(f.remaining?(t=n,"alternate"===f.direction&&(f.reversed=!f.reversed)):(f.pause(),"Promise"in window&&(Q(),S=b()),f.completed||(f.completed=!0,g("complete"))),l=0);g("update")}a=void 0===a?{}:a;var n,t,l=0,Q=null,S=b(),f=ka(a);f.reset=function(){var a=f.direction,b=f.loop;f.currentTime=
0;f.progress=0;f.paused=!0;f.began=!1;f.completed=!1;f.reversed="reverse"===a;f.remaining="alternate"===a&&1===b?2:b;for(a=f.children.length;a--;)b=f.children[a],b.seek(b.offset),b.reset()};f.tick=function(a){n=a;t||(t=n);h((l+n-t)*m.speed)};f.seek=function(a){h(d(a))};f.pause=function(){var a=q.indexOf(f);-1<a&&q.splice(a,1);f.paused=!0};f.play=function(){f.paused&&(f.paused=!1,t=0,l=d(f.currentTime),q.push(f),z||na())};f.reverse=function(){f.reversed=!f.reversed;t=0;l=d(f.currentTime)};f.restart=
function(){f.pause();f.reset();f.play()};f.finished=S;f.reset();f.autoplay&&f.play();return f}var la={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},ma={duration:1E3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},Z="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY".split(" "),F,Y="grayscale sepia saturate hue-rotate invert brightness contrast blur".split(" "),e={arr:function(a){return Array.isArray(a)},
obj:function(a){return-1<Object.prototype.toString.call(a).indexOf("Object")},svg:function(a){return a instanceof SVGElement},dom:function(a){return a.nodeType||e.svg(a)},str:function(a){return"string"===typeof a},fnc:function(a){return"function"===typeof a},und:function(a){return"undefined"===typeof a},hex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},rgba:function(a){return/^rgba/.test(a)},rgb:function(a){return/^rgb/.test(a)},hsl:function(a){return/^hsl/.test(a)},col:function(a){return e.hex(a)||
e.rgba(a)||e.rgb(a)||e.hsl(a)}},y=function(){function a(a,d,c){return(((1-3*c+3*d)*a+(3*c-6*d))*a+3*d)*a}return function(b,d,c,g){if(0<=b&&1>=b&&0<=c&&1>=c){var e=new Float32Array(11);if(b!==d||c!==g)for(var h=0;11>h;++h)e[h]=a(.1*h,b,c);return function(h){if(b===d&&c===g)return h;if(0===h)return 0;if(1===h)return 1;for(var k=0,l=1;10!==l&&e[l]<=h;++l)k+=.1;--l;var l=k+(h-e[l])/(e[l+1]-e[l])*.1,n=3*(1-3*c+3*b)*l*l+2*(3*c-6*b)*l+3*b;if(.001<=n){for(k=0;4>k;++k){n=3*(1-3*c+3*b)*l*l+2*(3*c-6*b)*l+3*
b;if(0===n)break;var m=a(l,b,c)-h,l=l-m/n}h=l}else if(0===n)h=l;else{var l=k,k=k+.1,f=0;do m=l+(k-l)/2,n=a(m,b,c)-h,0<n?k=m:l=m;while(1e-7<Math.abs(n)&&10>++f);h=m}return a(h,d,g)}}}}(),N=function(){function a(a,b){return 0===a||1===a?a:-Math.pow(2,10*(a-1))*Math.sin(2*(a-1-b/(2*Math.PI)*Math.asin(1))*Math.PI/b)}var b="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),d={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,
.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],a],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(b,c){return 1-a(1-b,c)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(b,c){return.5>b?a(2*b,c)/2:1-a(-2*b+2,c)/2}]},c={linear:y(.25,.25,.75,.75)},g={},k;for(k in d)g.type=k,d[g.type].forEach(function(a){return function(d,
g){c["ease"+a.type+b[g]]=e.fnc(d)?d:y.apply($jscomp$this,d)}}(g)),g={type:g.type};return c}(),R={css:function(a,b,d){return a.style[b]=d},attribute:function(a,b,d){return a.setAttribute(b,d)},object:function(a,b,d){return a[b]=d},transform:function(a,b,d,c,g){c[g]||(c[g]=[]);c[g].push(b+"("+d+")")},filter:function(a,b,d,c,g){c[g]||(c[g]=[]);c[g].push(b+"("+d+")")}},q=[],z=0,na=function(){function a(){z=requestAnimationFrame(b)}function b(b){var c=q.length;if(c){for(var d=0;d<c;)q[d]&&q[d].tick(b),
d++;a()}else cancelAnimationFrame(z),z=0}return a}();m.version="2.0.2";m.speed=1;m.running=q;m.remove=function(a){a=M(a);for(var b=q.length;b--;)for(var d=q[b],c=d.animations,g=c.length;g--;)A(a,c[g].animatable.target)&&(c.splice(g,1),c.length||d.pause())};m.getValue=J;m.path=function(a,b){var d=e.str(a)?v(a)[0]:a,c=b||100;return function(a){return{el:d,property:a,totalLength:d.getTotalLength()*(c/100)}}};m.setDashoffset=function(a){var b=a.getTotalLength();a.setAttribute("stroke-dasharray",b);return b};
m.bezier=y;m.easings=N;m.timeline=function(a){var b=m(a);b.pause();b.duration=0;b.add=function(a){b.children.forEach(function(a){a.began=!0;a.completed=!0});w(a).forEach(function(a){var c=b.duration,d=a.offset;a.autoplay=!1;a.offset=e.und(d)?c:K(d,c);b.seek(a.offset);a=m(a);a.duration>c&&(b.duration=a.duration);a.began=!0;b.children.push(a)});b.reset();b.seek(0);b.autoplay&&b.restart();return b};return b};m.random=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};return m});